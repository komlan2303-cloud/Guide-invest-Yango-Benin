<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Yango Business Simulator PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body{
  font-family:Inter,sans-serif;
  background:#f4f6f8;
  margin:0;
  padding:12px;
}
.container{
  max-width:100%;
  background:#fff;
  padding:20px;
  border-radius:14px;
}
h1,h2{
  text-align:center;
}
.section{margin-top:40px}
label{font-weight:600;display:block;margin-bottom:6px}
.help{font-size:13px;color:#666;margin-bottom:10px}
input{
  width:100%;
  padding:16px;
  margin-bottom:20px;
  border-radius:12px;
  border:1px solid #ddd;
  font-size:16px;
}
button{
  background:#FFD400;
  border:none;
  padding:16px;
  width:100%;
  border-radius:14px;
  font-weight:700;
  font-size:17px;
  cursor:pointer;
}
.choice button{margin-bottom:18px}
.hidden{display:none}
.result{
  background:#fffbe6;
  padding:20px;
  border-radius:14px;
  margin-top:25px;
  line-height:1.7;
}
.analysis{
  background:#f1f1f1;
  padding:20px;
  border-radius:14px;
  margin-top:20px;
  line-height:1.7;
}
.notice{
  background:#eef5ff;
  padding:16px;
  border-left:5px solid #2962ff;
  border-radius:12px;
  font-size:14px;
  margin-top:20px;
}
.compare{
  background:#f9f9f9;
  padding:20px;
  border-radius:14px;
  margin-top:35px;
}
.footer{
  text-align:center;
  margin-top:50px;
  font-size:13px;
  color:#555;
}
.lock{
  background:#fff3f3;
  border-left:5px solid #c62828;
  padding:20px;
  border-radius:14px;
}

@media(min-width:768px){
  body{padding:25px}
  .container{max-width:1050px;margin:auto}
}
</style>
</head>

<body>

<!-- üîê ACC√àS PRO -->
<div id="lock" class="container lock">
  <h2>Acc√®s professionnel requis</h2>
  <p>Outil r√©serv√© aux partenaires et investisseurs.</p>
  <p><strong>Tarif : √† partir de 5 USD</strong></p>
  <input id="codeInput" placeholder="Entrer votre code PRO">
  <button onclick="unlock()">D√©bloquer l‚Äôacc√®s</button>
  <p id="lockMsg"></p>
</div>

<!-- üìä APPLICATION -->
<div id="app" class="container hidden">

<h1>Yango Business Simulator PRO</h1>
<p style="text-align:center">
Estimations bas√©es sur <strong>Yango ECO</strong> (service le moins cher)
</p>

<div class="notice">
Les r√©sultats sont volontairement prudents et bas√©s sur le service ECO.
Ils peuvent √™tre sup√©rieurs pour d‚Äôautres cat√©gories de services.
</div>

<div class="section choice">
  <button onclick="show('sal')">Analyser le mod√®le Salariat</button>
  <button onclick="show('lea')">Analyser le mod√®le Leasing</button>
</div>

<!-- SALARIAT -->
<div id="sal" class="section hidden">
<h2>Salariat</h2>

<input id="s_qty" type="number" min="1" value="1" placeholder="Nombre de v√©hicules">
<input id="s_buy" type="number" value="3000000" placeholder="Prix d'achat par v√©hicule">
<input id="s_rev" type="number" value="800000" placeholder="Revenu mensuel par v√©hicule">
<input id="s_salary" type="number" value="80000" placeholder="Salaire chauffeur">
<input id="s_bonus" type="number" value="30000" placeholder="Primes / bonus">
<input id="s_fuel" type="number" value="280000" placeholder="Carburant">
<input id="s_maint" type="number" value="50000" placeholder="Entretien">
<input id="s_misc" type="number" value="30000" placeholder="Divers / impr√©vus">

<button onclick="calcSal()">Calculer le salariat</button>

<div id="salResult" class="result hidden"></div>
<div id="salAnalysis" class="analysis hidden"></div>
</div>

<!-- LEASING -->
<div id="lea" class="section hidden">
<h2>Leasing</h2>

<input id="l_qty" type="number" min="1" value="1" placeholder="Nombre de v√©hicules">
<input id="l_buy" type="number" value="3000000" placeholder="Prix d'achat par v√©hicule">
<input id="l_sell" type="number" value="4500000" placeholder="Prix de revente par v√©hicule">
<input id="l_duration" type="number" value="24" placeholder="Dur√©e du contrat (mois)">
<input id="l_days" type="number" value="26" placeholder="Jours travaill√©s par mois">

<button onclick="calcLea()">Calculer le leasing</button>

<div id="leaResult" class="result hidden"></div>
<div id="leaAnalysis" class="analysis hidden"></div>
</div>

<!-- COMPARAISON -->
<div id="compare" class="section compare hidden">
<h2>Comparaison & recommandation</h2>
<div id="compareText"></div>
</div>

<div class="section">
<button onclick="downloadPDF()">T√©l√©charger le rapport PDF</button>
</div>

<div class="footer">
Josu√© C√©dric Komlan Akakpovi<br>
WhatsApp : +229 01 53 63 63 63<br>
Email : komlan2303@gmail.com
</div>

</div>

<script>
/* =====================
   CODES PRO
===================== */
const PRO_CODES = {
  "josue": 100,
  "YANGO-PRO-002": 20,
  "YANGO-PRO-003": 30,
  "YANGO-INVEST-004": 50
};

let salData=null;
let leaData=null;

/* =====================
   ACC√àS
===================== */
function unlock(){
  const code = codeInput.value.trim();
  if(PRO_CODES[code]){
    localStorage.setItem("proUses", PRO_CODES[code]);
    lock.classList.add("hidden");
    app.classList.remove("hidden");
  }else{
    lockMsg.innerText="Code invalide ou expir√©";
  }
}

function checkAccess(){
  let uses = Number(localStorage.getItem("proUses"));
  if(uses <= 0){
    alert("Votre acc√®s PRO est expir√©.");
    return false;
  }
  localStorage.setItem("proUses", uses - 1);
  return true;
}

/* =====================
   UI
===================== */
function show(id){
  sal.classList.add("hidden");
  lea.classList.add("hidden");
  document.getElementById(id).classList.remove("hidden");
}

/* =====================
   CALCULS
===================== */
function calcSal(){
  if(!checkAccess()) return;

  const qty=+s_qty.value;
  const charges=+s_salary.value+ +s_bonus.value+ +s_fuel.value+ +s_maint.value+ +s_misc.value;
  const net=+s_rev.value-charges;
  const roi=(+s_buy.value/net);

  salData={roi,cash:net*qty};

  salResult.innerHTML=`
  R√©sultat net par v√©hicule : ${net.toLocaleString()} FCFA<br>
  Cash-flow mensuel flotte : ${(net*qty).toLocaleString()} FCFA<br>
  ROI estim√© : ${roi.toFixed(1)} mois
  `;
  salAnalysis.innerText="Rentabilit√© √©lev√©e mais n√©cessite une gestion rigoureuse du chauffeur et des charges.";
  salResult.classList.remove("hidden");
  salAnalysis.classList.remove("hidden");
  compareModels();
}

function calcLea(){
  if(!checkAccess()) return;

  const qty=+l_qty.value;
  const monthly=+l_sell.value/+l_duration.value;
  const roi=(+l_buy.value/monthly);

  leaData={roi,cash:monthly*qty};

  leaResult.innerHTML=`
  Paiement mensuel par v√©hicule : ${monthly.toFixed(0)} FCFA<br>
  Cash-flow mensuel flotte : ${(monthly*qty).toLocaleString()} FCFA<br>
  ROI estim√© : ${roi.toFixed(1)} mois
  `;
  leaAnalysis.innerText="Mod√®le s√©curis√© avec faible gestion et revenus stables.";
  leaResult.classList.remove("hidden");
  leaAnalysis.classList.remove("hidden");
  compareModels();
}

/* =====================
   COMPARAISON
===================== */
function compareModels(){
  if(salData && leaData){
    compare.classList.remove("hidden");
    let reco="";
    if(Math.abs(salData.roi-leaData.roi)<=3){
      reco="Les deux mod√®les sont proches. Un mod√®le mixte est recommand√© pour √©quilibrer rentabilit√© et s√©curit√©.";
    }else if(salData.roi<leaData.roi){
      reco="Le salariat permet une r√©cup√©ration plus rapide du capital mais demande une gestion active.";
    }else{
      reco="Le leasing est plus s√©curis√© avec un retour progressif du capital.";
    }
    compareText.innerText=reco;
  }
}

/* =====================
   PDF
===================== */
function downloadPDF(){
  html2pdf().from(app).save("Yango_Business_Report_PRO.pdf");
}
</script>

</body>
</html>
