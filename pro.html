<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yango Business Simulator – PRO</title>

<style>
:root{
  --yellow:#FFD600;
  --light:#f7f7f7;
  --card:#ffffff;
  --text:#111;
  --muted:#666;
  --radius:14px;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  background:var(--light);
  color:var(--text);
}

.container{
  max-width:900px;
  margin:auto;
  padding:16px;
}

.card{
  background:var(--card);
  border-radius:var(--radius);
  padding:18px;
  margin-bottom:18px;
}

h1,h2,h3{
  margin-top:0;
}

.badge{
  background:#eef4ff;
  border-left:4px solid #2f6fff;
  padding:12px;
  border-radius:10px;
  font-size:14px;
}

label{
  font-weight:600;
  display:block;
  margin-top:14px;
}

.desc{
  font-size:13px;
  color:var(--muted);
  margin-bottom:6px;
}

input,select{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid #ddd;
  font-size:16px;
}

button{
  width:100%;
  padding:14px;
  background:var(--yellow);
  border:none;
  border-radius:14px;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
  margin-top:18px;
}

.nav-btn{
  background:#eee;
  margin-top:10px;
}

.nav-btn.active{
  background:var(--yellow);
}

.result{
  background:#fff9db;
  border-radius:14px;
  padding:16px;
  margin-top:16px;
}

.footer{
  text-align:center;
  font-size:13px;
  color:#666;
  margin:40px 0 20px;
}

.hidden{display:none}
hr{border:none;border-top:1px solid #eee;margin:20px 0}
</style>
</head>

<body>
<div class="container">

<!-- IMPORTANT -->
<div class="card badge">
<b>Important :</b><br>
Toutes les estimations sont basées sur <b>Yango ECO</b>, le service le plus accessible et le moins cher de l’application.
</div>

<!-- LANGUE / DEVISE -->
<div class="card">
<label>Langue</label>
<select id="langSelect"></select>

<label>Devise</label>
<select id="currencySelect"></select>
</div>

<!-- LOGIN CODE -->
<div class="card" id="loginCard">
<h2>Accès professionnel requis</h2>
<div class="desc">Entrez votre code investisseur personnel reçu après paiement Mobile Money.</div>
<input id="codeInput" placeholder="Ex : JOSUE-MOMO-ALAIN">
<button onclick="unlock()">Débloquer l’accès</button>
</div>

<!-- DASHBOARD -->
<div class="card hidden" id="dashboard">
<h2>Tableau de bord investisseur</h2>
<p><b>Propriétaire du code :</b> <span id="ownerName"></span></p>
<p>Simulations effectuées : <span id="usedCount"></span></p>
<p>Simulations restantes : <span id="remainingCount"></span></p>

<button class="nav-btn active" onclick="showTab('salariat')">Simulation Salariat</button>
<button class="nav-btn" onclick="showTab('leasing')">Simulation Leasing</button>
<button class="nav-btn" onclick="showTab('compare')">Comparaison</button>
<button class="nav-btn" onclick="showTab('history')">Historique</button>
</div>

<!-- SALARIAT -->
<div class="card hidden" id="salariat">
<h2>Modèle Salariat</h2>

<label>Nombre de véhicules</label>
<div class="desc">Valeur par défaut : 1 véhicule</div>
<input id="s_nb" type="number" value="1">

<label>Prix d’achat du véhicule (unité)</label>
<div class="desc">Montant investi pour un véhicule</div>
<input id="s_buy" value="3000000">

<label>Revenu mensuel Yango par véhicule</label>
<div class="desc">Moyenne observée sur Yango ECO</div>
<input id="s_rev" value="800000">

<hr>

<label>Salaire chauffeur</label>
<input id="s_salary" value="80000">

<label>Primes / bonus</label>
<input id="s_bonus" value="30000">

<label>Carburant</label>
<input id="s_fuel" value="280000">

<label>Entretien</label>
<input id="s_maint" value="50000">

<label>Divers / imprévus</label>
<input id="s_misc" value="30000">

<button onclick="calcSalariat()">Calculer le salariat</button>

<div class="result" id="salariatResult"></div>
<button onclick="downloadPDF('salariat')">Télécharger PDF Salariat</button>
</div>

<!-- LEASING -->
<div class="card hidden" id="leasing">
<h2>Modèle Leasing</h2>

<label>Nombre de véhicules</label>
<input id="l_nb" value="1">

<label>Prix d’achat du véhicule (unité)</label>
<input id="l_buy" value="3000000">

<label>Prix de revente au chauffeur (unité)</label>
<input id="l_sell" value="4500000">

<label>Durée du contrat (mois)</label>
<input id="l_months" value="24">

<label>Jours travaillés par mois</label>
<input id="l_days" value="26">

<button onclick="calcLeasing()">Calculer le leasing</button>

<div class="result" id="leasingResult"></div>
<button onclick="downloadPDF('leasing')">Télécharger PDF Leasing</button>
</div>

<!-- COMPARAISON -->
<div class="card hidden" id="compare">
<h2>Comparaison Salariat vs Leasing</h2>
<div class="result" id="compareResult"></div>
<button onclick="downloadPDF('compare')">Télécharger PDF Comparaison</button>
</div>

<!-- HISTORIQUE -->
<div class="card hidden" id="history">
<h2>Historique des simulations</h2>
<div id="historyList"></div>
</div>

<div class="footer">
© 2026 – Josué Cédric Komlan Akakpovi<br>
WhatsApp : +229 01 53 63 63 63<br>
Email : komlan2303@gmail.com
</div>

</div>

<script>
/<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
const { jsPDF } = window.jspdf;

/* ================= CONFIG ================= */
const PRO_CODES = {
 "JOSUE": { owner:"Josue", max:200 }
};

const LANGS = ["Français","English","Español","Português","Русский","العربية","Hindi","中文"];

const CURRENCIES = {
 "FCFA": {rate:1, label:"FCFA"},
 "USD": {rate:600, label:"USD"},
 "EUR": {rate:655, label:"EUR"},
 "NGN": {rate:1.3, label:"NGN"},
 "GHS": {rate:50, label:"GHS"},
 "CNY": {rate:85, label:"CNY"},
 "RUB": {rate:6, label:"RUB"},
 "AED": {rate:165, label:"AED"},
 "INR": {rate:7.2, label:"INR"}
};

let currentCode=null;
let currency="FCFA";

/* ================= INIT ================= */
window.onload=()=>{
 LANGS.forEach(l=>langSelect.innerHTML+=`<option>${l}</option>`);
 Object.keys(CURRENCIES).forEach(c=>currencySelect.innerHTML+=`<option>${c}</option>`);
};

/* ================= ACCESS ================= */
function unlock(){
 const code=codeInput.value.trim();
 if(!PRO_CODES[code]) return alert("Code invalide");
 const store=JSON.parse(localStorage.getItem(code)||"{}");
 if((store.used||0)>=PRO_CODES[code].max) return alert("Limite atteinte");

 currentCode=code;
 loginCard.classList.add("hidden");
 dashboard.classList.remove("hidden");

 ownerName.innerText=PRO_CODES[code].owner;
 usedCount.innerText=store.used||0;
 remainingCount.innerText=PRO_CODES[code].max-(store.used||0);
 showTab('salariat');
}

/* ================= NAV ================= */
function showTab(id){
 ["salariat","leasing","compare","history"].forEach(t=>{
  document.getElementById(t).classList.add("hidden");
 });
 document.getElementById(id).classList.remove("hidden");
 document.querySelectorAll(".nav-btn").forEach(b=>b.classList.remove("active"));
}

/* ================= UTILS ================= */
function convert(v){
 return (v / CURRENCIES[currency].rate).toFixed(0)+" "+currency;
}

/* ================= SALARIAT ================= */
function calcSalariat(){
 currency=currencySelect.value;

 const nb=+s_nb.value;
 const charges=+s_salary.value+ +s_bonus.value+ +s_fuel.value+ +s_maint.value+ +s_misc.value;
 const profit=+s_rev.value - charges;
 const roi=+s_buy.value / profit;

 salariatResult.innerHTML=`
 <h3>Résultats – Salariat</h3>
 <p><b>Charges mensuelles :</b> ${convert(charges)}</p>
 <p><b>Résultat net par véhicule :</b> ${convert(profit)}</p>
 <p><b>Résultat total (${nb} véhicules) :</b> ${convert(profit*nb)}</p>
 <p><b>ROI estimé :</b> ${roi.toFixed(1)} mois</p>
 <hr>
 <b>Analyse :</b>
 <ul>
  <li>Rentabilité rapide</li>
  <li>Forte génération de cash</li>
  <li>Gestion rigoureuse indispensable</li>
 </ul>
 `;

 save("Salariat",{profit,roi});
}

/* ================= LEASING ================= */
function calcLeasing(){
 currency=currencySelect.value;

 const margin=+l_sell.value-+l_buy.value;
 const monthly=+l_sell.value/+l_months.value;
 const daily=monthly/+l_days.value;
 const roi=+l_buy.value/monthly;

 leasingResult.innerHTML=`
 <h3>Résultats – Leasing</h3>
 <p><b>Marge par véhicule :</b> ${convert(margin)}</p>
 <p><b>Paiement mensuel chauffeur :</b> ${convert(monthly)}</p>
 <p><b>Paiement journalier :</b> ${convert(daily)}</p>
 <p><b>ROI estimé :</b> ${roi.toFixed(1)} mois</p>
 <hr>
 <b>Analyse :</b>
 <ul>
  <li>Gestion simplifiée</li>
  <li>Risque transféré au chauffeur</li>
  <li>Revenus stables</li>
 </ul>
 `;
 save("Leasing",{margin,roi});
}

/* ================= COMPARAISON ================= */
function compare(){
 const h=JSON.parse(localStorage.getItem(currentCode)||"{}").history||[];
 const s=h.filter(x=>x.type==="Salariat").slice(-1)[0];
 const l=h.filter(x=>x.type==="Leasing").slice(-1)[0];

 if(!s||!l) return alert("Effectuez les deux simulations");

 compareResult.innerHTML=`
 <h3>Comparaison détaillée</h3>
 <p><b>ROI Salariat :</b> ${s.data.roi.toFixed(1)} mois</p>
 <p><b>ROI Leasing :</b> ${l.data.roi.toFixed(1)} mois</p>
 <hr>
 <b>Recommandation stratégique :</b><br>
 ${
  s.data.roi<l.data.roi
  ?"Salariat recommandé pour un retour rapide sur investissement."
  :"Leasing recommandé pour plus de sécurité et moins de gestion."
 }
 `;
}

/* ================= HISTORY ================= */
function save(type,data){
 const store=JSON.parse(localStorage.getItem(currentCode)||"{}");
 store.used=(store.used||0)+1;
 store.history=store.history||[];
 store.history.push({type,date:new Date().toLocaleString(),data});
 localStorage.setItem(currentCode,JSON.stringify(store));
 usedCount.innerText=store.used;
 remainingCount.innerText=PRO_CODES[currentCode].max-store.used;
}

/* ================= PDF ================= */
function downloadPDF(type){
 const doc=new jsPDF();
 doc.text("Yango Business Simulator – PRO",10,10);
 doc.text("Estimations basées sur Yango ECO",10,18);
 doc.text("Type : "+type,10,30);
 doc.text("Date : "+new Date().toLocaleString(),10,38);
 doc.text("Données issues de simulations réelles terrain.",10,50);
 doc.save("yango-"+type+".pdf");
}
</script>


</body>
</html>
