<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yango Business Simulator – PRO</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f5f6f8;
}
.wrapper{max-width:900px;margin:auto;padding:20px}
.card{
  background:#fff;
  border-radius:14px;
  padding:20px;
  margin-bottom:24px;
}
.hidden{display:none}
.field{margin-bottom:18px}
label{font-weight:bold}
small{display:block;color:#666;margin:4px 0 8px}
input,select,button{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid #ccc;
  font-size:15px;
}
button{
  background:#FFD400;
  border:none;
  font-weight:bold;
  cursor:pointer;
}
.result{background:#fff8db;padding:15px;border-radius:12px;margin-top:15px}
.nav button{margin-bottom:10px}
footer{text-align:center;font-size:13px;color:#555;margin-top:40px}
</style>
</head>

<body>
<div class="wrapper">

<div class="card">
<b>Important :</b>  
Estimations basées sur le service <b>Yango ECO</b>.
</div>

<div class="card">
<label>Langue</label>
<select id="lang">
  <option value="fr">Français</option>
  <option value="en">English</option>
  <option value="es">Español</option>
  <option value="pt">Português</option>
</select>

<label>Devise</label>
<select id="currency">
  <option value="FCFA">FCFA</option>
  <option value="USD">USD</option>
  <option value="EUR">EUR</option>
  <option value="GHS">GHS</option>
  <option value="NGN">NGN</option>
</select>
</div>

<div class="card" id="login">
<h2 data-i18n="access">Accès professionnel</h2>
<input id="code" placeholder="Code PRO">
<button onclick="unlock()">OK</button>
</div>

<div class="card hidden" id="app">

<div class="nav">
<button onclick="show('salariat')">Salariat</button>
<button onclick="show('leasing')">Leasing</button>
<button onclick="show('compare')">Comparaison</button>
<button onclick="show('history')">Historique</button>
</div>

<div id="salariat" class="hidden">
<h3 data-i18n="salariat">Simulation Salariat</h3>

<div class="field">
<label data-i18n="purchase">Prix d’achat véhicule</label>
<small>Valeur par défaut</small>
<input id="s_buy" type="number" value="3000000">
</div>

<div class="field">
<label data-i18n="revenue">Revenu mensuel</label>
<input id="s_rev" type="number" value="800000">
</div>

<div class="field">
<label>Salaire chauffeur</label>
<input id="s_salary" type="number" value="80000">
</div>

<button onclick="calcSalariat()">Calculer</button>
<div class="result" id="resSal"></div>
<button onclick="pdf('Salariat')">PDF</button>
</div>

<div id="leasing" class="hidden">
<h3 data-i18n="leasing">Simulation Leasing</h3>

<div class="field">
<label>Prix achat</label>
<input id="l_buy" type="number" value="3000000">
</div>

<div class="field">
<label>Prix revente</label>
<input id="l_sell" type="number" value="4500000">
</div>

<div class="field">
<label>Durée (mois)</label>
<input id="l_months" type="number" value="24">
</div>

<button onclick="calcLeasing()">Calculer</button>
<div class="result" id="resLease"></div>
<button onclick="pdf('Leasing')">PDF</button>
</div>

<div id="compare" class="hidden">
<h3 data-i18n="comparison">Comparaison</h3>
<div class="result" id="resCompare"></div>
<button onclick="pdf('Comparaison')">PDF</button>
</div>

<div id="history" class="hidden">
<h3 data-i18n="history">Historique</h3>
<div id="hist"></div>
</div>

</div>

<footer>
© 2026 – Josué Cédric Komlan Akakpovi  
</footer>

</div>

<script>
/* ===== CONFIG ===== */
const rates={FCFA:1,USD:600,EUR:655,GHS:50,NGN:1.3};
let cur="FCFA";
currency.onchange=()=>cur=currency.value;

/* ===== I18N ===== */
const i18n={
 fr:{access:"Accès professionnel",salariat:"Simulation Salariat",leasing:"Simulation Leasing",comparison:"Comparaison",history:"Historique",purchase:"Prix d’achat véhicule",revenue:"Revenu mensuel"},
 en:{access:"Professional access",salariat:"Salary simulation",leasing:"Leasing simulation",comparison:"Comparison",history:"History",purchase:"Vehicle purchase price",revenue:"Monthly revenue"},
 es:{access:"Acceso profesional",salariat:"Simulación salarial",leasing:"Simulación leasing",comparison:"Comparación",history:"Historial",purchase:"Precio de compra",revenue:"Ingresos mensuales"},
 pt:{access:"Acesso profissional",salariat:"Simulação salarial",leasing:"Simulação leasing",comparison:"Comparação",history:"Histórico",purchase:"Preço de compra",revenue:"Receita mensal"}
};

lang.onchange=()=>{
 document.querySelectorAll("[data-i18n]").forEach(e=>{
  e.innerText=i18n[lang.value][e.dataset.i18n];
 });
};

/* ===== PRO CODE ===== */
const PRO={ "DEMO":{type:"count",max:20} };
let current=null;

function unlock(){
 if(!PRO[code.value]) return alert("Code invalide");
 current=code.value;
 login.classList.add("hidden");
 app.classList.remove("hidden");
}

/* ===== NAV ===== */
function show(id){
 ["salariat","leasing","compare","history"].forEach(x=>document.getElementById(x).classList.add("hidden"));
 document.getElementById(id).classList.remove("hidden");
 if(id==="compare") compare();
 if(id==="history") historyLoad();
}

/* ===== CALCS ===== */
let lastSal=null,lastLease=null;

function conv(v){return (v/rates[cur]).toFixed(0)+" "+cur;}

function calcSalariat(){
 let profit=s_rev.value-s_salary.value;
 lastSal=profit;
 resSal.innerHTML=`Profit : ${conv(profit)}<br>ROI : ${(s_buy.value/profit).toFixed(1)} mois`;
 save("Salariat",profit);
}

function calcLeasing(){
 let monthly=l_sell.value/l_months.value;
 lastLease=monthly;
 resLease.innerHTML=`Paiement mensuel : ${conv(monthly)}<br>ROI : ${(l_buy.value/monthly).toFixed(1)} mois`;
 save("Leasing",monthly);
}

function compare(){
 if(!lastSal||!lastLease){resCompare.innerText="Faites les deux simulations";return;}
 resCompare.innerHTML=`Salariat ROI : ${(s_buy.value/lastSal).toFixed(1)}<br>Leasing ROI : ${(l_buy.value/lastLease).toFixed(1)}`;
}

/* ===== HISTORY ===== */
function save(t,v){
 let h=JSON.parse(localStorage.getItem("hist")||"[]");
 h.push({t,date:new Date().toLocaleString()});
 localStorage.setItem("hist",JSON.stringify(h));
}
function historyLoad(){
 hist.innerHTML=JSON.parse(localStorage.getItem("hist")||"[]").map(x=>`${x.date} – ${x.t}`).join("<br>");
}

/* ===== PDF ===== */
function pdf(type){
 const doc=new jspdf.jsPDF();
 doc.text("Yango Business Simulator – PRO",10,10);
 doc.text("Type : "+type,10,20);
 doc.save("Yango-"+type+".pdf");
}
</script>
</body>
</html>
